# 1. count(*)为什么Innodb不也保存一份?

因为Innodb支持事务和MVCC，同一个时刻，存在多个事务，然后每个事务都有插入或者删除操作，那么这个`count(*)`的值就没有办法维护了

MyIsam会把表的行数存在磁盘上，每当执行`count(*)`的时候，直接返回就行了，所以速度非常快。

Innodb执行`count(*)`的时候，需要一条一条把数据从存储引擎里读出来，然后累计计数。

> `count(*)`是特殊优化过的，几个count性能排序如下：
>
> `count(*)`大于等于 `count(1)` 大于 `count(主键id)` 远大于 `count(字段)`

# 2. 为什么MySQL数据库索引选择使用B+树

1. **B+树的磁盘读写代价更低**。B+树的节点只存储索引key值，具体数据存储在叶子节点中，这就使以页为单位的节点中可以存放更多的索引，一次性读入内存的需要查找的关键字也就越多，相对IO读写次数就降低了
2. **B+树的查询效率更加稳定。**任何关键字的查找必须走一条从根节点到叶子节点的路，所有关键字查询的路径长度相同，导致每一个数据的查询效率相当

# 3. 主键索引与普通索引对比

1. 普通索引是最基本的索引类型，没有任何限制，值可以为空，仅加速(辅助)查询。普通索引是可以重复的，一个表中可以有多个普通索引

2. 主键索引是一种特殊的唯一索引，一个表只能有一个主键，不允许有空值；索引列的所有值都只能出现一次，即必须唯一。简单来说：主键索引是加速(辅助)查询 + 列值唯一(不可以有null)+ 表中只有一个
   

















# Reference

- [Innodb中count的理解](https://blog.csdn.net/h2604396739/article/details/85170051)
- [count 浅析 ](https://www.sohu.com/a/455950339_610509)
- [mysql主键索引和普通索引区别](https://blog.csdn.net/weixin_39866087/article/details/113127499)
- [为什么MySQL数据库索引选择使用B+树？]([](https://www.cnblogs.com/tiancai/p/9024351.html))